<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="referrer" content="never">
    <title>GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½• | IGeekFançš„æ–‡æ¡£</title>
    <meta name="description" content="">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?f62432d3079a350db0193368fa897809";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
      </script>
    <link rel="icon" href="/vuepress-docs/logo.png">
    
    <link rel="preload" href="/vuepress-docs/assets/css/styles.da0724c2.css" as="style"><link rel="preload" href="/vuepress-docs/assets/js/app.da0724c2.js" as="script"><link rel="preload" href="/vuepress-docs/assets/js/31.7b7b19ea.js" as="script"><link rel="prefetch" href="/vuepress-docs/assets/css/2.styles.2c132230.css"><link rel="prefetch" href="/vuepress-docs/assets/css/3.styles.a31eb318.css"><link rel="prefetch" href="/vuepress-docs/assets/css/4.styles.06774d68.css"><link rel="prefetch" href="/vuepress-docs/assets/css/5.styles.82af18d5.css"><link rel="prefetch" href="/vuepress-docs/assets/js/1.e59787bb.js"><link rel="prefetch" href="/vuepress-docs/assets/js/10.5fb2e152.js"><link rel="prefetch" href="/vuepress-docs/assets/js/11.531568d2.js"><link rel="prefetch" href="/vuepress-docs/assets/js/12.a64efe17.js"><link rel="prefetch" href="/vuepress-docs/assets/js/13.0374a48d.js"><link rel="prefetch" href="/vuepress-docs/assets/js/14.679b369a.js"><link rel="prefetch" href="/vuepress-docs/assets/js/15.4e2834ee.js"><link rel="prefetch" href="/vuepress-docs/assets/js/16.b94c35d3.js"><link rel="prefetch" href="/vuepress-docs/assets/js/17.82fc466d.js"><link rel="prefetch" href="/vuepress-docs/assets/js/18.daa8bb13.js"><link rel="prefetch" href="/vuepress-docs/assets/js/19.e7d91a01.js"><link rel="prefetch" href="/vuepress-docs/assets/js/2.2c132230.js"><link rel="prefetch" href="/vuepress-docs/assets/js/20.497d6fd1.js"><link rel="prefetch" href="/vuepress-docs/assets/js/21.741dcaf7.js"><link rel="prefetch" href="/vuepress-docs/assets/js/22.fd0df8ae.js"><link rel="prefetch" href="/vuepress-docs/assets/js/23.bb985633.js"><link rel="prefetch" href="/vuepress-docs/assets/js/24.70f91dc9.js"><link rel="prefetch" href="/vuepress-docs/assets/js/25.68611935.js"><link rel="prefetch" href="/vuepress-docs/assets/js/26.c4af03ef.js"><link rel="prefetch" href="/vuepress-docs/assets/js/27.a3860a2a.js"><link rel="prefetch" href="/vuepress-docs/assets/js/28.72cdef32.js"><link rel="prefetch" href="/vuepress-docs/assets/js/29.ddaee10b.js"><link rel="prefetch" href="/vuepress-docs/assets/js/3.a31eb318.js"><link rel="prefetch" href="/vuepress-docs/assets/js/30.f53cb48a.js"><link rel="prefetch" href="/vuepress-docs/assets/js/32.c3b644c7.js"><link rel="prefetch" href="/vuepress-docs/assets/js/33.6564e7fd.js"><link rel="prefetch" href="/vuepress-docs/assets/js/4.06774d68.js"><link rel="prefetch" href="/vuepress-docs/assets/js/5.82af18d5.js"><link rel="prefetch" href="/vuepress-docs/assets/js/6.7b20ecca.js"><link rel="prefetch" href="/vuepress-docs/assets/js/7.b71ef550.js"><link rel="prefetch" href="/vuepress-docs/assets/js/8.8cdfa53b.js"><link rel="prefetch" href="/vuepress-docs/assets/js/9.c05b688d.js">
    <link rel="stylesheet" href="/vuepress-docs/assets/css/styles.da0724c2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" style="position:relative;"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="home-link router-link-active"><!----> <span class="site-name">IGeekFançš„æ–‡æ¡£</span></div> <div class="search" style="max-width:-300px;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" placeholder="å›è½¦æœç´¢" value=""> <!----></div></div> <div class="links" style="max-width:-300px;"><nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-docs/" class="nav-link">ç®€ä»‹</a></div><div class="nav-item"><a href="/vuepress-docs/dotnetcore/lin-cms/" class="nav-link router-link-active">lin-cms-dotnetcoreèµ·æ­¥</a></div><div class="nav-item"><a href="/vuepress-docs/dotnetcore/examples/" class="nav-link">dotnetcoreæŒ‡å—</a></div><div class="nav-item"><a href="/vuepress-docs/colorui/docs/" class="nav-link">ColorUIæŒ‡å—</a></div><div class="nav-item"><a href="http://blog.igeekfan.cn/about/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å…³äºæˆ‘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/luoyunchong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-docs/" class="nav-link">ç®€ä»‹</a></div><div class="nav-item"><a href="/vuepress-docs/dotnetcore/lin-cms/" class="nav-link router-link-active">lin-cms-dotnetcoreèµ·æ­¥</a></div><div class="nav-item"><a href="/vuepress-docs/dotnetcore/examples/" class="nav-link">dotnetcoreæŒ‡å—</a></div><div class="nav-item"><a href="/vuepress-docs/colorui/docs/" class="nav-link">ColorUIæŒ‡å—</a></div><div class="nav-item"><a href="http://blog.igeekfan.cn/about/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å…³äºæˆ‘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/luoyunchong" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav> <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>lin-cms-dotnetcoreèµ·æ­¥</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>å¼€å‘è€…æ–‡æ¡£</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/vuepress-docs/dotnetcore/lin-cms/dev-start.html" class="sidebar-link">å¼€å‘èµ·æ­¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dev-start.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dev-start.html#ç±»åº“ä½¿ç”¨ä»‹ç»" class="sidebar-link">ç±»åº“ä½¿ç”¨ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dev-start.html#freesql" class="sidebar-link">FreeSql</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dev-start.html#identityserver4" class="sidebar-link">IdentityServer4</a></li></ul></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/Newtonsoft.Json-question.html" class="sidebar-link">Newtonsoft.JsonåŸºç¡€é—®é¢˜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Newtonsoft.Json-question.html#è®¾ç½®ä¸‹åˆ’çº¿" class="sidebar-link">è®¾ç½®ä¸‹åˆ’çº¿</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Newtonsoft.Json-question.html#å®ç°æ—¶é—´æˆ³" class="sidebar-link">å®ç°æ—¶é—´æˆ³</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Newtonsoft.Json-question.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html" class="sidebar-link">ä¾èµ–æ³¨å…¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#scrutor" class="sidebar-link">Scrutor</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#serivceåç¼€æœåŠ¡æ³¨å…¥di" class="sidebar-link">Serivceåç¼€æœåŠ¡æ³¨å…¥DI</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#itransientdependency" class="sidebar-link">ITransientDependency</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#æ¥å£" class="sidebar-link">æ¥å£</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#æ¨¡æ‹Ÿå®ç°" class="sidebar-link">æ¨¡æ‹Ÿå®ç°</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#å¦‚ä½•ä½¿ç”¨" class="sidebar-link">å¦‚ä½•ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dependency-injection.html#ç»Ÿä¸€æ³¨å…¥" class="sidebar-link">ç»Ÿä¸€æ³¨å…¥</a></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/dynamic-authorization-in-asp-net-core.html" class="sidebar-link">è®¤è¯ä¸æˆæƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dynamic-authorization-in-asp-net-core.html#è®¤è¯ä¸æˆæƒ" class="sidebar-link">è®¤è¯ä¸æˆæƒ</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dynamic-authorization-in-asp-net-core.html#è®¤è¯é‰´æƒç›¸å…³" class="sidebar-link">è®¤è¯é‰´æƒç›¸å…³</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/dynamic-authorization-in-asp-net-core.html#jwt" class="sidebar-link">JWT</a></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html" class="sidebar-link">è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾" class="sidebar-link">è·å–æ§åˆ¶å™¨åŠæ–¹æ³•ç‰¹æ€§æ ‡ç­¾</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#lincmsauthorizeattributeæ˜¯ä»€ä¹ˆ" class="sidebar-link">LinCmsAuthorizeAttributeæ˜¯ä»€ä¹ˆ</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#controller" class="sidebar-link">Controller</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#æµ‹è¯•ç±»è·å–æ–¹æ³•ä¸Šçš„ç‰¹å®šæ ‡ç­¾" class="sidebar-link">æµ‹è¯•ç±»è·å–æ–¹æ³•ä¸Šçš„ç‰¹å®šæ ‡ç­¾</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#æ–¹æ³•ç»“æœ" class="sidebar-link">æ–¹æ³•ç»“æœ</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#è·å–æ§åˆ¶å™¨ä¸Šç‰¹æ€§æ ‡ç­¾" class="sidebar-link">è·å–æ§åˆ¶å™¨ä¸Šç‰¹æ€§æ ‡ç­¾</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#controllerç»“æœ" class="sidebar-link">Controllerç»“æœ</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/Reflex-Assembly-Get-Controller-Methods-Attribute.html#å¼€æºåœ°å€" class="sidebar-link">å¼€æºåœ°å€</a></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/IdentityServer4-JWT.html" class="sidebar-link">è®¤è¯é‰´æƒçŠ¶æ€</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/IdentityServer4-JWT.html#è®¤è¯é‰´æƒçŠ¶æ€" class="sidebar-link">è®¤è¯é‰´æƒçŠ¶æ€</a></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/StopWords.html" class="sidebar-link">å…¨å±€æ•æ„Ÿè¯å¤„ç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/StopWords.html#å…¨å±€æ•æ„Ÿè¯å¤„ç†" class="sidebar-link">å…¨å±€æ•æ„Ÿè¯å¤„ç†</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/StopWords.html#_1-toolgood-words" class="sidebar-link">1.ToolGood.Words</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/StopWords.html#_2-å¾ªç¯ä½¿ç”¨replace" class="sidebar-link">2. å¾ªç¯ä½¿ç”¨Replace</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/StopWords.html#freesqlå…¨å±€å¤„ç†æ•æ„Ÿè¯" class="sidebar-link">FreeSqlå…¨å±€å¤„ç†æ•æ„Ÿè¯</a></li></ul></li><li><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html" class="active sidebar-link">GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#githubç¬¬ä¸‰æ–¹æˆæƒç™»å½•" class="sidebar-link">GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½•</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#aspnet-security-oauth-github" class="sidebar-link">AspNet.Security.OAuth.GitHub</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#githubæˆæƒç™»å½•" class="sidebar-link">GitHubæˆæƒç™»å½•</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#net-core3-1" class="sidebar-link">.NET Core3.1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#å‰åç«¯åˆ†ç¦»çš„spa-é…åˆç¬¬ä¸‰æ–¹æˆæƒç™»å½•æµç¨‹å¦‚ä¸‹" class="sidebar-link">å‰åç«¯åˆ†ç¦»çš„SPA é…åˆç¬¬ä¸‰æ–¹æˆæƒç™»å½•æµç¨‹å¦‚ä¸‹</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#ä»£ç éƒ¨ç½²ï¼ˆç®€åŒ–ï¼‰" class="sidebar-link">ä»£ç éƒ¨ç½²ï¼ˆç®€åŒ–ï¼‰</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ" class="sidebar-link">ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ</a></li></ul></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li><li class="sidebar-sub-header"><a href="/vuepress-docs/dotnetcore/lin-cms/spa-github-login.html#demo-ç¤ºä¾‹" class="sidebar-link">Demo  ç¤ºä¾‹</a></li></ul></li></ul></div></li></ul></div> <div id="area" class="page"> <div class="content"><h2 id="githubç¬¬ä¸‰æ–¹æˆæƒç™»å½•"><a href="#githubç¬¬ä¸‰æ–¹æˆæƒç™»å½•" aria-hidden="true" class="header-anchor">#</a> GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½•</h2> <p>ä½¿ç”¨SPA+.NET Core3.1å®ç° GitHubç¬¬ä¸‰æ–¹æˆæƒç™»å½• ç±»ä¼¼ä½¿ç”¨AspNet.Security.OAuth.GitHubï¼Œå‰ç«¯ä½¿ç”¨å¦‚ä¸‹ï¼šVUE+Vue-Router+axios</p> <h2 id="aspnet-security-oauth-github"><a href="#aspnet-security-oauth-github" aria-hidden="true" class="header-anchor">#</a> AspNet.Security.OAuth.GitHub</h2> <ul><li>GitHub <a href="https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers" target="_blank" rel="noopener noreferrer">https://github.com/aspnet-contrib/AspNet.Security.OAuth.Providers<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="githubæˆæƒç™»å½•"><a href="#githubæˆæƒç™»å½•" aria-hidden="true" class="header-anchor">#</a> GitHubæˆæƒç™»å½•</h2> <p>ä»€ä¹ˆé…ç½®çš„è¿‡ç¨‹ä¸è¯´äº†ã€‚ã€‚æœ‰ä¸€æ¨ã€‚</p> <ul><li><a href="https://www.jianshu.com/p/78d186aeb526" target="_blank" rel="noopener noreferrer">GitHub ç¬¬ä¸‰æ–¹ç™»å½•<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5dfb04cee51d45583a66c2f3" target="_blank" rel="noopener noreferrer">ç»™ä½ çš„ç½‘ç«™æ·»åŠ ç¬¬ä¸‰æ–¹ç™»å½•ä»¥åŠçŸ­ä¿¡éªŒè¯åŠŸèƒ½<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <p>ä¸‹é¢ä¸ºç¤ºä¾‹</p> <div class="language- extra-class"><pre class="language-text"><code>client_id:0be6b05fc717bfc4fb67
client_secret:dcaced9f176afba64e89d88b9b06ffc4a887a609
</code></pre></div><p>Get</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/login/oauth/authorize?client_id=0be6b05fc717bfc4fb67&amp;redirect_uri=https://localhost:5001/signin-github
</code></pre></div><p>ä¼šé‡å®šå‘åˆ°</p> <p><a href="https://localhost:5001/signin-github?code=07537a84d12bbae08361" target="_blank" rel="noopener noreferrer">https://localhost:5001/signin-github?code=07537a84d12bbae08361<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>è¿™ä¸ªcodeæ”¾åˆ°ä¸‹é¢çš„è¯·æ±‚ä¸­ï¼Œè·å–access_token
POSTæ–¹å¼ï¼ˆPostManå»è¯·æ±‚ï¼‰</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/login/oauth/access_token?client_id=0be6b05fc717bfc4fb67&amp;client_secret=dcaced9f176afba64e89d88b9b06ffc4a887a609&amp;code=07537a84d12bbae08361
</code></pre></div><p>Getæ–¹å¼</p> <div class="language- extra-class"><pre class="language-text"><code>https://api.github.com/user?access_token=787506afa3271d077b98f18af56d7cfdc8db43b4
</code></pre></div><p>ç„¶åå°±èƒ½è·å–ç”¨æˆ·ä¿¡æ¯</p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;login&quot;: &quot;luoyunchong&quot;,
   &quot;id&quot;: 18613266,
   &quot;node_id&quot;: &quot;MDQ6VXNlcjE4NjEzMjY2&quot;,
   &quot;avatar_url&quot;: &quot;https://avatars1.githubusercontent.com/u/18613266?v=4&quot;,
   &quot;gravatar_id&quot;: &quot;&quot;,
   &quot;url&quot;: &quot;https://api.github.com/users/luoyunchong&quot;,
   &quot;html_url&quot;: &quot;https://github.com/luoyunchong&quot;,
   &quot;followers_url&quot;: &quot;https://api.github.com/users/luoyunchong/followers&quot;,
   &quot;following_url&quot;: &quot;https://api.github.com/users/luoyunchong/following{/other_user}&quot;,
   &quot;gists_url&quot;: &quot;https://api.github.com/users/luoyunchong/gists{/gist_id}&quot;,
   &quot;starred_url&quot;: &quot;https://api.github.com/users/luoyunchong/starred{/owner}{/repo}&quot;,
   &quot;subscriptions_url&quot;: &quot;https://api.github.com/users/luoyunchong/subscriptions&quot;,
   &quot;organizations_url&quot;: &quot;https://api.github.com/users/luoyunchong/orgs&quot;,
   &quot;repos_url&quot;: &quot;https://api.github.com/users/luoyunchong/repos&quot;,
   &quot;events_url&quot;: &quot;https://api.github.com/users/luoyunchong/events{/privacy}&quot;,
   &quot;received_events_url&quot;: &quot;https://api.github.com/users/luoyunchong/received_events&quot;,
   &quot;type&quot;: &quot;User&quot;,
   &quot;site_admin&quot;: false,
   &quot;name&quot;: &quot;IGeekFan&quot;,
   &quot;company&quot;: null,
   &quot;blog&quot;: &quot;https://blog.igeekfan.cn&quot;,
   &quot;location&quot;: null,
   &quot;email&quot;: &quot;luoyunchong@foxmail.com&quot;,
   &quot;hireable&quot;: null,
   &quot;bio&quot;: &quot;å­¦ä¹ ä¹‹è·¯æ¼«æ¼«æ— æœŸã€‚&quot;,
   &quot;public_repos&quot;: 14,
   &quot;public_gists&quot;: 0,
   &quot;followers&quot;: 16,
   &quot;following&quot;: 11,
   &quot;created_at&quot;: &quot;2016-04-22T10:33:44Z&quot;,
   &quot;updated_at&quot;: &quot;2019-12-21T14:49:33Z&quot;
}
</code></pre></div><h2 id="net-core3-1"><a href="#net-core3-1" aria-hidden="true" class="header-anchor">#</a> .NET Core3.1</h2> <p>ä»¥ä¸‹ä»£ç ä¸ºä¸»è¦ä»£ç ï¼Œå®Œæ•´ä»£ç çœ‹ä¸‹é¢çš„DEMOé“¾æ¥ã€‚</p> <p>ä½¿ç”¨WebApiæ—¶ï¼Œçœ‹äº†ä¸€äº›é¡¹ç›®ï¼Œå…¨æ˜¯åŸºäºMVCç»“æ„çš„ï¼Œéƒ½ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚çœ‹äº†ä¸€äº›åšå®¢ä¸Šé¢ä»‹ç» ,æ­¥éª¤éƒ½æ˜¯åƒç¯‡ä¸€å¾‹ï¼Œéƒ½æ˜¯é…åˆå‰åç«¯åˆ†ç¦»çš„ã€‚</p> <ul><li>å‰ç«¯è¿è¡Œåœ¨:http://localhost:8081</li> <li>åç«¯è¿è¡Œåœ¨:https://localhost:5001</li></ul> <h3 id="å‰åç«¯åˆ†ç¦»çš„spa-é…åˆç¬¬ä¸‰æ–¹æˆæƒç™»å½•æµç¨‹å¦‚ä¸‹"><a href="#å‰åç«¯åˆ†ç¦»çš„spa-é…åˆç¬¬ä¸‰æ–¹æˆæƒç™»å½•æµç¨‹å¦‚ä¸‹" aria-hidden="true" class="header-anchor">#</a> å‰åç«¯åˆ†ç¦»çš„SPA é…åˆç¬¬ä¸‰æ–¹æˆæƒç™»å½•æµç¨‹å¦‚ä¸‹</h3> <p>æœ¬åœ°æµ‹è¯•æ—¶ï¼ŒgitHubå›è°ƒåœ°å€è®¾ç½® http(s)ğŸ˜•/ip:ç«¯å£/signin-github</p> <ul><li>å¦‚: https://localhost:5001/signin-githubã€‚</li></ul> <h4 id="_1-ä¸Šé¢è¿™ä¸ªæ˜æ˜å¡«å†™çš„åç«¯çš„åœ°å€ï¼Œé‚£åç«¯æ€ä¹ˆæŠŠç»“æœé€šçŸ¥å‰ç«¯å‘¢ï¼Ÿ"><a href="#_1-ä¸Šé¢è¿™ä¸ªæ˜æ˜å¡«å†™çš„åç«¯çš„åœ°å€ï¼Œé‚£åç«¯æ€ä¹ˆæŠŠç»“æœé€šçŸ¥å‰ç«¯å‘¢ï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> 1. ä¸Šé¢è¿™ä¸ªæ˜æ˜å¡«å†™çš„åç«¯çš„åœ°å€ï¼Œé‚£åç«¯æ€ä¹ˆæŠŠç»“æœé€šçŸ¥å‰ç«¯å‘¢ï¼Ÿ</h4> <p>å‰ç«¯è¯·æ±‚<strong>https://localhost:5001/signin?provider=GitHub&amp;redirectUrl=http://localhost:8080/login-result</strong></p> <ul><li>æä¾›å‚æ•°providerä¸ºGitHubï¼Œ</li> <li>redirectUrlä¸ºGitHubæˆæƒç™»å½•åï¼Œå›è°ƒsignin-githubåï¼Œåç«¯å†å»é‡å®šå‘çš„åœ°å€ï¼Œè¿™é‡Œå¡«å‰ç«¯çš„ä¸€ä¸ªè·¯ç”±ã€‚</li></ul> <h4 id="_2-åç«¯åªæä¾›äº†signinï¼Œsignin-callbackè·¯ç”±ï¼Œæ²¡æœ‰signin-githubï¼Œé‚£githubä¸Šé…ç½®çš„è·¯ç”±æ˜¯æ€ä¹ˆå›è°ƒå›æ¥å‘¢ï¼Ÿ"><a href="#_2-åç«¯åªæä¾›äº†signinï¼Œsignin-callbackè·¯ç”±ï¼Œæ²¡æœ‰signin-githubï¼Œé‚£githubä¸Šé…ç½®çš„è·¯ç”±æ˜¯æ€ä¹ˆå›è°ƒå›æ¥å‘¢ï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> 2. åç«¯åªæä¾›äº†signinï¼Œsignin-callbackè·¯ç”±ï¼Œæ²¡æœ‰signin-githubï¼Œé‚£githubä¸Šé…ç½®çš„è·¯ç”±æ˜¯æ€ä¹ˆå›è°ƒå›æ¥å‘¢ï¼Ÿ</h4> <p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/security/authentication/social/google-logins?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">google-ç™»å½•ï¼Œå¾®è½¯æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª<strong>æ›´æ”¹é»˜è®¤å›è°ƒ URI</strong>,é€šè¿‡ AddGitHubä¸­çš„CallbackPathå±æ€§é…ç½®ã€‚</p> <p>ä»‹ç»äº†å›è°ƒåœ°å€åº”é…ç½®signin-google,æ‰€ä»¥è¿™é‡Œåº”è¯¥æ˜¯signin-githubï¼Œä»–æ˜¯å¯ä»¥é…ç½®çš„ï¼Œä¸éœ€è¦è‡ªå·±å†™ç¨‹åºå¤„ç†signin-googleè¿™ä¸ªè·¯ç”±ï¼Œå†…éƒ¨æœ‰ä¸­é—´ä»¶å·²ç»å¤„ç†äº†ã€‚</p> <h4 id="_3-å›è°ƒåˆ°signin-githubåï¼Œåç«¯æ€ä¹ˆå¤„ç†ï¼Œæ‰èƒ½è®©å‰ç«¯åˆ·æ–°ã€‚è·å–ç™»å½•åçš„ä¿¡æ¯å‘¢ã€‚"><a href="#_3-å›è°ƒåˆ°signin-githubåï¼Œåç«¯æ€ä¹ˆå¤„ç†ï¼Œæ‰èƒ½è®©å‰ç«¯åˆ·æ–°ã€‚è·å–ç™»å½•åçš„ä¿¡æ¯å‘¢ã€‚" aria-hidden="true" class="header-anchor">#</a> 3. å›è°ƒåˆ°signin-githubåï¼Œåç«¯æ€ä¹ˆå¤„ç†ï¼Œæ‰èƒ½è®©å‰ç«¯åˆ·æ–°ã€‚è·å–ç™»å½•åçš„ä¿¡æ¯å‘¢ã€‚</h4> <p>å…·ä½“ä¸Šé¢çš„æ ¹æ®codeè·å–access_tokenï¼Œæ ¹æ®access_tokenè·å–ç”¨æˆ·çš„ä¿¡æ¯çš„è¿‡ç¨‹ï¼Œè¿™äº›å¤„ç†çš„è¿‡ç¨‹ï¼Œéƒ½ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ç›´æ¥è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</p> <p>ä¸€ä¸ªæ–¹æ³•SignIn,åªè¦<strong>return Challenge(properties, provider);</strong>ï¼Œ</p> <ul><li>provider ä¸º GitHubï¼Œ</li> <li>properties  var properties = new AuthenticationProperties { RedirectUri = url };</li></ul> <p>è¿™ä¸ªurlä¸ºå¦ä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„è·¯ç”±ï¼Œåªè¦æ‹¼æ¥å¥½åœ°å€å³å¯ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>var authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);
string email = authenticateResult.Principal.FindFirst(ClaimTypes.Email)?.Value;
string name = authenticateResult.Principal.FindFirst(ClaimTypes.Name)?.Value;
</code></pre></div><p>éœ€è¦æ³¨å…¥</p> <div class="language- extra-class"><pre class="language-text"><code>private readonly IHttpContextAccessor _contextAccessor;
public AuthenticationController( IHttpContextAccessor contextAccessor)
{
    _contextAccessor = contextAccessor;
}
</code></pre></div><h3 id="ä»£ç éƒ¨ç½²ï¼ˆç®€åŒ–ï¼‰"><a href="#ä»£ç éƒ¨ç½²ï¼ˆç®€åŒ–ï¼‰" aria-hidden="true" class="header-anchor">#</a> ä»£ç éƒ¨ç½²ï¼ˆç®€åŒ–ï¼‰</h3> <p>æ‰“å¼€NuGetåŒ…ç®¡ç†,å®‰è£…åŒ…</p> <div class="language- extra-class"><pre class="language-text"><code>Install-Package AspNet.Security.OAuth.GitHub
</code></pre></div><p>appSettings.json</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;Authentication&quot;: {
    &quot;GitHub&quot;: {
      &quot;ClientId&quot;: &quot;0be6b05fc717bfc4fb67&quot;,
      &quot;ClientSecret&quot;: &quot;dcaced9f176afba64e89d88b9b06ffc4a887a609&quot;
    }
}
</code></pre></div><p>addæ‰©å±•æ–¹æ³•</p> <div class="language- extra-class"><pre class="language-text"><code>public static class JwtConfiguration
{
    public static void AddJwtConfiguration(this IServiceCollection services, IConfiguration configuration)
    {

        services.AddAuthentication(opts =&gt;
            {
                opts.DefaultScheme = CookieAuthenticationDefaults.AuthenticationScheme;
                opts.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;
            }).AddCookie(options =&gt;
        {
            options.LoginPath = &quot;/signin&quot;;
            options.LogoutPath = &quot;/signout&quot;;
        }).AddGitHub(options =&gt;
        {
            options.ClientId = configuration[&quot;Authentication:GitHub:ClientId&quot;];
            options.ClientSecret = configuration[&quot;Authentication:GitHub:ClientSecret&quot;];
        });
    }
}
</code></pre></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚å¤´åƒï¼Œemailï¼Œæ˜¯æ²¡æœ‰è·å–çš„ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>.AddGitHub(options =&gt;
{
    options.ClientId = configuration[&quot;Authentication:GitHub:ClientId&quot;];
    options.ClientSecret = configuration[&quot;Authentication:GitHub:ClientSecret&quot;];
    //options.CallbackPath = new PathString(&quot;~/signin-github&quot;);//ä¸GitHubä¸Šçš„å›è°ƒåœ°å€ç›¸åŒï¼Œé»˜è®¤å³æ˜¯/signin-github
    options.Scope.Add(&quot;user:email&quot;);
    //authenticateResult.Principal.FindFirst(LinConsts.Claims.AvatarUrl)?.Value;  å¾—åˆ°GitHubå¤´åƒ
    options.ClaimActions.MapJsonKey(LinConsts.Claims.AvatarUrl, &quot;avatar_url&quot;);
    options.ClaimActions.MapJsonKey(LinConsts.Claims.BIO, &quot;bio&quot;);
    options.ClaimActions.MapJsonKey(LinConsts.Claims.BlogAddress, &quot;blog&quot;);
});

#å…¶ä¸­LinConstsç±»ä¸ºé™æ€å¸¸é‡
public static class LinConsts
{
    public static class Claims
    {
        public const string BIO = &quot;urn:github:bio&quot;;
        public const string AvatarUrl = &quot;urn:github:avatar_url&quot;;
        public const string BlogAddress = &quot;urn:github:blog&quot;;
    }
}
</code></pre></div><p>startup.cs</p> <p>ConfigureServicesä¸­é…ç½®æ­¤æœåŠ¡</p> <div class="language- extra-class"><pre class="language-text"><code>    services.AddSingleton&lt;IHttpContextAccessor, HttpContextAccessor&gt;();
    services.AddJwtConfiguration(Configuration);
</code></pre></div><p>åˆ›å»ºAuthenticationController.cs
å¢åŠ SignInï¼Œç”¨äºå¤„ç†ç”¨æˆ·æˆæƒæˆåŠŸåï¼Œé‡å®šå›signin-callback,å¹¶å°†å‚æ•°å¸¦å›ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>        private readonly IHttpContextAccessor _contextAccessor;
        private readonly IConfiguration _configuration;

        public AuthenticationController(IHttpContextAccessor contextAccessor, IConfiguration configuration)
        {
            _contextAccessor = contextAccessor;
            _configuration = configuration;
        }
        
        [HttpGet(&quot;~/signin&quot;)]
        public async Task&lt;IActionResult&gt; SignIn(string provider, string redirectUrl)
        {
            var request = _contextAccessor.HttpContext.Request;
            var url =
                $&quot;{request.Scheme}://{request.Host}{request.PathBase}{request.Path}-callback?provider={provider}&amp;redirectUrl={redirectUrl}&quot;;
            var properties = new AuthenticationProperties { RedirectUri = url };
            properties.Items[&quot;LoginProviderKey&quot;] = provider;
            return Challenge(properties, provider);

        }
</code></pre></div><p>åœ¨signinæ–¹æ³•ä¸­ï¼Œç”¨æˆ·ç‚¹å‡»æˆæƒåï¼ˆç¬¬ä¸€æ¬¡ï¼‰ï¼Œä¼šæ ¹æ®å…¶ä¼ é€’çš„URLï¼Œé‡å®šå‘åˆ°è¿™ä¸ªåœ°å€ï¼Œsignin-callback,å‚æ•°ä¹Ÿä¼šä¸€åŒæºå¸¦ã€‚providerä¸ºGitHub,redirectUrlä¸ºï¼šhttp://localhost:8081/login-result.</p> <div class="language- extra-class"><pre class="language-text"><code>[HttpGet(&quot;~/signin-callback&quot;)]
public async Task&lt;IActionResult&gt; Home(string provider = null, string redirectUrl = &quot;&quot;)
{
    var authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);
    if (!authenticateResult.Succeeded) return Redirect(redirectUrl);
    var openIdClaim = authenticateResult.Principal.FindFirst(ClaimTypes.NameIdentifier);
    if (openIdClaim == null || string.IsNullOrWhiteSpace(openIdClaim.Value))
        return Redirect(redirectUrl);

    //TODO è®°å½•æˆæƒæˆåŠŸåçš„ä¿¡æ¯ 

    string email = authenticateResult.Principal.FindFirst(ClaimTypes.Email)?.Value;
    string name = authenticateResult.Principal.FindFirst(ClaimTypes.Name)?.Value;
    string gitHubName = authenticateResult.Principal.FindFirst(GitHubAuthenticationConstants.Claims.Name)?.Value;
    string gitHubUrl = authenticateResult.Principal.FindFirst(GitHubAuthenticationConstants.Claims.Url)?.Value;
    //startup ä¸­ AddGitHubé…ç½®é¡¹  options.ClaimActions.MapJsonKey(LinConsts.Claims.AvatarUrl, &quot;avatar_url&quot;);
    string avatarUrl = authenticateResult.Principal.FindFirst(LinConsts.Claims.AvatarUrl)?.Value;

    return Redirect($&quot;{redirectUrl}?openId={openIdClaim.Value}&quot;);
}
</code></pre></div><p>è¿™æ—¶å€™æˆ‘ä»¬èƒ½è·å–ç”¨æˆ·ä¿¡æ¯äº†ã€‚é‚£ä¹ˆå‰ç«¯æ€ä¹ˆåŠå‘¢ã€‚æˆ‘ä»¬å†™ä¸ªæ–¹æ³•ï¼Œè·å–ç”¨æˆ·ä¿¡æ¯ï¼Œçœ‹çœ‹æ•ˆæœã€‚</p> <ul><li>æµè§ˆå™¨ç›´æ¥æ‰“å¼€èƒ½å¾—åˆ°githubçš„idã€‚</li> <li>axios GETè¯·æ±‚ https://localhost:5001/OpenId å¾—åˆ°null</li></ul> <div class="language- extra-class"><pre class="language-text"><code>[HttpGet(&quot;~/OpenId&quot;)]
public async Task&lt;string&gt; OpenId(string provider = null)
{
   var authenticateResult = await _contextAccessor.HttpContext.AuthenticateAsync(provider);
   if (!authenticateResult.Succeeded) return null;
   var openIdClaim = authenticateResult.Principal.FindFirst(ClaimTypes.NameIdentifier);
   return openIdClaim?.Value;
}
</code></pre></div><p>æˆ‘è®°å¾—ä¹‹å‰ä¼ Tokenæ—¶ï¼Œåå°æ˜¯å¯ä»¥è¿™æ ·è·å–çš„ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>[HttpGet(&quot;~/GetOpenIdByToken&quot;)]
public string GetOpenIdByToken()
{
    return User.FindFirst(ClaimTypes.NameIdentifier)?.Value;
}
</code></pre></div><p>LoginResult.vueåœ¨createdç”Ÿå‘½å‘¨æœŸä¸­ã€‚éƒ½æ˜¯å¾—åˆ°null</p> <div class="language- extra-class"><pre class="language-text"><code>axios({
  methods: &quot;get&quot;,
  url: &quot;https://localhost:5001/OpenId?provider=GitHub&quot;
})
  .then(function(response) {
    // handle success
    console.log(response);
  })

axios({
  methods: &quot;get&quot;,
  url: &quot;https://localhost:5001/GetOpenIdByToken&quot;
})
  .then(function(response) {
    // handle success
    console.log(response);
  })
</code></pre></div><h3 id="ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿ</h3> <p>å› ä¸ºå‰åç«¯åˆ†ç¦»ï¼Œä¸æ˜¯åŸºäºCookiesçš„ã€‚httpæ˜¯æ— çŠ¶æ€çš„ã€‚æ¯æ¬¡è¯·æ±‚æ— æ³•åŒºåˆ†ç”¨æˆ·çš„ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®å½“å‰çš„ClaimsPrincipalï¼Œæ ¹æ®JWTç”Ÿæˆç›¸åº”çš„Tokenï¼Œaxiosè¯·æ±‚æ—¶ï¼Œæ”¾åˆ°headersä¸­ã€‚</p> <p>å®‰è£…åŒ…</p> <div class="language- extra-class"><pre class="language-text"><code>Install-Package Microsoft.AspNetCore.Authentication.JwtBearer
</code></pre></div><p>AppSettings.jsoné…ç½®æ”¹æˆ</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;Authentication&quot;: {
&quot;JwtBearer&quot;: {
  &quot;SecurityKey&quot;: &quot;JWTStudyWebsite_DI20DXU3&quot;,
  &quot;Issuer&quot;: &quot;JWTStudy&quot;,
  &quot;Audience&quot;: &quot;JWTStudyWebsite&quot;
},
&quot;GitHub&quot;: {
  &quot;ClientId&quot;: &quot;0be6b05fc717bfc4fb67&quot;,
  &quot;ClientSecret&quot;: &quot;dcaced9f176afba64e89d88b9b06ffc4a887a609&quot;
}
}
</code></pre></div><p>AddJwtConfigurationæ”¹æˆå¦‚ä¸‹å†…å®¹</p> <div class="language- extra-class"><pre class="language-text"><code>public static void AddJwtConfiguration(this IServiceCollection services, IConfiguration configuration)
{

    services.AddAuthentication(opts =&gt;
        {
            opts.DefaultScheme = CookieAuthenticationDefaults.AuthenticationScheme;
            opts.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;
        }).AddCookie(options =&gt;
    {
        options.LoginPath = &quot;/signin&quot;;
        options.LogoutPath = &quot;/signout&quot;;
    }).AddJwtBearer(JwtBearerDefaults.AuthenticationScheme, options =&gt;
    {
        options.Audience = configuration[&quot;Authentication:JwtBearer:Audience&quot;];

        options.TokenValidationParameters = new TokenValidationParameters
        {
            // The signing key must match!
            ValidateIssuerSigningKey = true,
            IssuerSigningKey = new SymmetricSecurityKey(
                Encoding.ASCII.GetBytes(configuration[&quot;Authentication:JwtBearer:SecurityKey&quot;])),

            // Validate the JWT Issuer (iss) claim
            ValidateIssuer = true,
            ValidIssuer = configuration[&quot;Authentication:JwtBearer:Issuer&quot;],

            // Validate the JWT Audience (aud) claim
            ValidateAudience = true,
            ValidAudience = configuration[&quot;Authentication:JwtBearer:Audience&quot;],

            // Validate the token expiry
            ValidateLifetime = true,

            // If you want to allow a certain amount of clock drift, set that here
            //ClockSkew = TimeSpan.Zero
        };
    }).AddGitHub(options =&gt;
    {
        options.ClientId = configuration[&quot;Authentication:GitHub:ClientId&quot;];
        options.ClientSecret = configuration[&quot;Authentication:GitHub:ClientSecret&quot;];
        //options.CallbackPath = new PathString(&quot;~/signin-github&quot;);//ä¸GitHubä¸Šçš„å›è°ƒåœ°å€ç›¸åŒï¼Œé»˜è®¤å³æ˜¯/signin-github
        options.Scope.Add(&quot;user:email&quot;);
        //authenticateResult.Principal.FindFirst(LinConsts.Claims.AvatarUrl)?.Value;  å¾—åˆ°GitHubå¤´åƒ
        options.ClaimActions.MapJsonKey(LinConsts.Claims.AvatarUrl, &quot;avatar_url&quot;);
        options.ClaimActions.MapJsonKey(LinConsts.Claims.BIO, &quot;bio&quot;);
        options.ClaimActions.MapJsonKey(LinConsts.Claims.BlogAddress, &quot;blog&quot;);
    });
}
</code></pre></div><p><a href="https://github.com/luoyunchong/dotnetcore-examples/blob/master/dotnetcore3.1/VoVo.AspNetCore.OAuth2/spa-vue-oauth2/src/components/LoginResult.vue" target="_blank" rel="noopener noreferrer">å‰ç«¯LoginResult.vueä»£ç <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>å‰ç«¯è¿è¡Œ</p> <div class="language- extra-class"><pre class="language-text"><code>yarn install
yarn serve
</code></pre></div><p>ç‚¹å‡»GitHubç™»å½•</p> <p>GetOpenIdByTokenæ ¹æ®ç”Ÿæˆçš„tokenå€¼ï¼Œè§£æå‡ºäº†ç”¨æˆ·id,è¿™æ ·å‰ç«¯åœ¨login-resultè¿™ä¸ªç»„ä»¶ä¸­ï¼ŒæŠŠtokenä¿å­˜å¥½ï¼Œå¹¶é‡å®šå‘è‡ªå·±çš„ä¸»é¡µï¼Œè·å–ç”¨æˆ·æ‰€æœ‰ä¿¡æ¯å³å¯ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>data: 18613266
status: 200
config: {url: &quot;https://localhost:5001/GetOpenIdByToken&quot;}
</code></pre></div><p>OpenId?provider=GitHubåˆ™å¾—ä¸åˆ°æ•°æ®ï¼Œåªèƒ½æµè§ˆå™¨ç›´æ¥è¯·æ±‚https://localhost:5001/OpenId?provider=GitHubï¼Œæ‰èƒ½åˆ°github çš„idã€‚è¿™ä¸ªé€‚åº”äºå‰åç«¯ä¸åˆ†ç¦»ï¼Œæˆ–è€…å±äºä¹‹å‰æˆ‘ä»¬ç»å¸¸ä½¿ç”¨MVCç»“æ„ï¼ŒåŒä¸€åŸŸåä¸‹ï¼ŒåŒä¸€ç«¯å£ï¼ŒåŸºäºCookiesç™»å½•çš„åˆ¤æ–­ã€‚</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒ</h2> <ul><li><a href="https://www.cnblogs.com/rsls/p/10522649.html" target="_blank" rel="noopener noreferrer">.net Core2.2 WebApié€šè¿‡OAuth2.0å®ç°å¾®ä¿¡ç™»å½•<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://blog.csdn.net/weixin_30414305/article/details/101389325" target="_blank" rel="noopener noreferrer">AspNetCore3.0 å’Œ JWT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://www.woshipm.com/pd/509712.html" target="_blank" rel="noopener noreferrer">ç”¨æˆ·ç³»ç»Ÿè®¾è®¡ï¼šç¬¬ä¸‰æ–¹æˆæƒã€è´¦å·ç»‘å®šåŠè§£ç»‘ï¼ˆä¸‹ï¼‰<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h2 id="demo-ç¤ºä¾‹"><a href="#demo-ç¤ºä¾‹" aria-hidden="true" class="header-anchor">#</a> Demo  ç¤ºä¾‹</h2> <ul><li>GitHub <a href="https://github.com/luoyunchong/dotnetcore-examples/tree/master/dotnetcore3.1/VoVo.AspNetCore.OAuth2" target="_blank" rel="noopener noreferrer">https://github.com/luoyunchong/dotnetcore-examples/tree/master/dotnetcore3.1/VoVo.AspNetCore.OAuth2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <div data-v-49481e8d><ul class="rightMenuWrapper" data-v-49481e8d></ul></div></li></ul></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/luoyunchong/vuepress-docs/edit/master/docs/dotnetcore/lin-cms/spa-github-login.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">12/27/2019, 11:24:45 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/vuepress-docs/dotnetcore/lin-cms/StopWords.html" class="prev">
          å…¨å±€æ•æ„Ÿè¯å¤„ç†
        </a></span> <!----></p></div> </div> <!----> <img src="" style="position:absolute;width:135px;left:calc(100% / 2 + 50px);bottom:10px;transform:translateX(-50%);"></div></div>
    <script src="/vuepress-docs/assets/js/app.da0724c2.js" defer></script><script src="/vuepress-docs/assets/js/31.7b7b19ea.js" defer></script>
  </body>
</html>
